bcfw = read.table('bcfw_0planes.txt',header=TRUE)
bcfw_5 = read.table('bcfw_5planes.txt',header=TRUE)
bcfw_10 = read.table('bcfw_10planes.txt',header=TRUE)
bcfw_20 = read.table('bcfw_20planes.txt',header=TRUE)
bcfw_50 = read.table('bcfw_50planes.txt',header=TRUE)

bcfw_5_2iter = read.table('bcfw_5planes_2inneriter.txt',header=TRUE)
bcfw_5_5iter = read.table('bcfw_5planes_5inneriter.txt',header=TRUE)
bcfw_5_10iter = read.table('bcfw_5planes_10inneriter.txt',header=TRUE)
bcfw_5_20iter = read.table('bcfw_5planes_20inneriter.txt',header=TRUE)
#Remove time to get bounds
bcfw$bound_comp_time = cumsum(bcfw$time_after_bound - bcfw$time_before_bound)
bcfw$actual_time = bcfw$time_before_bound - c(0,bcfw$bound_comp_time[1:49])
bcfw_5$bound_comp_time = cumsum(bcfw_5$time_after_bound - bcfw_5$time_before_bound)
bcfw_5$actual_time = bcfw_5$time_before_bound - c(0,bcfw_5$bound_comp_time[1:49])
bcfw_10$bound_comp_time = cumsum(bcfw_10$time_after_bound - bcfw_10$time_before_bound)
bcfw_10$actual_time = bcfw_10$time_before_bound - c(0,bcfw_10$bound_comp_time[1:49])
bcfw_20$bound_comp_time = cumsum(bcfw_20$time_after_bound - bcfw_20$time_before_bound)
bcfw_20$actual_time = bcfw_20$time_before_bound - c(0,bcfw_20$bound_comp_time[1:49])
bcfw_50$bound_comp_time = cumsum(bcfw_50$time_after_bound - bcfw_50$time_before_bound)
bcfw_50$actual_time = bcfw_50$time_before_bound - c(0,bcfw_50$bound_comp_time[1:49])

bcfw_5_2iter$bound_comp_time = cumsum(bcfw_5_2iter$time_after_bound - bcfw_5_2iter$time_before_bound)
bcfw_5_2iter$actual_time = bcfw_5_2iter$time_before_bound - c(0,bcfw_5_2iter$bound_comp_time[1:49])
bcfw_5_5iter$bound_comp_time = cumsum(bcfw_5_5iter$time_after_bound - bcfw_5_5iter$time_before_bound)
bcfw_5_5iter$actual_time = bcfw_5_5iter$time_before_bound - c(0,bcfw_5_5iter$bound_comp_time[1:49])
bcfw_5_10iter$bound_comp_time = cumsum(bcfw_5_10iter$time_after_bound - bcfw_5_10iter$time_before_bound)
bcfw_5_10iter$actual_time = bcfw_5_10iter$time_before_bound - c(0,bcfw_5_10iter$bound_comp_time[1:49])
bcfw_5_20iter$bound_comp_time = cumsum(bcfw_5_20iter$time_after_bound - bcfw_5_20iter$time_before_bound)
bcfw_5_20iter$actual_time = bcfw_5_20iter$time_before_bound - c(0,bcfw_5_20iter$bound_comp_time[1:49])
# gap vs time
png('gapvstime.png')
plot(bcfw$actual_time, log(bcfw$duality_gap), col='green','l', xlab='Runnning time', ylab='log(duality gap)')
lines(bcfw_5$actual_time, log(bcfw_5$duality_gap), col='black')
lines(bcfw_10$actual_time, log(bcfw_10$duality_gap), col='blue')
lines(bcfw_20$actual_time, log(bcfw_20$duality_gap), col='purple')
lines(bcfw_50$actual_time, log(bcfw_50$duality_gap), col='red')
legend("topright", c('BCFW','5 planes', '10 planes', '20 planes', '50 planes'), lty=c(1,1,1,1,1), col=c('green','black','blue','purple','red'))
dev.off()
# gap vs oracle calls
png('gapvsoraclecalls.png')
plot(bcfw$iteration, log(bcfw$duality_gap), col='green','l', xlab='Oracle calls', ylab='log(duality gap)')
lines(bcfw_5$iteration, log(bcfw_5$duality_gap), col='black')
lines(bcfw_10$iteration, log(bcfw_10$duality_gap), col='blue')
lines(bcfw_20$iteration, log(bcfw_20$duality_gap), col='purple')
lines(bcfw_50$iteration, log(bcfw_50$duality_gap), col='red')
legend("topright", c('BCFW','5 planes', '10 planes', '20 planes', '50 planes'), lty=c(1,1,1,1,1), col=c('green','black','blue','purple','red'))
dev.off()

#5 planes, varying inner_iter
png('gapvstime_inneriter.png')
plot(bcfw$actual_time, log(bcfw$duality_gap), col='green','l', xlab='Running time', ylab='log(duality gap)')
lines(bcfw_5_2iter$actual_time, log(bcfw_5_2iter$duality_gap), col='black')
lines(bcfw_5_5iter$actual_time, log(bcfw_5_5iter$duality_gap), col='blue')
lines(bcfw_5_10iter$actual_time, log(bcfw_5_10iter$duality_gap), col='purple')
lines(bcfw_5_20iter$actual_time, log(bcfw_5_20iter$duality_gap), col='red')
legend("topright", c('BCFW','5 planes / 2 iter', '5 planes / 5 iter', '5 planes / 10 iter', '5 planes / 20 iter'), lty=c(1,1,1,1,1), col=c('green','black','blue','purple','red'))
dev.off()

#5 planes, varying inner_iter
png('gapvsoraclecalls_inneriter.png')
plot(bcfw$iteration, log(bcfw$duality_gap), col='green','l', xlab='Oracle calls', ylab='log(duality gap)')
lines(bcfw_5_2iter$iteration, log(bcfw_5_2iter$duality_gap), col='black')
lines(bcfw_5_5iter$iteration, log(bcfw_5_5iter$duality_gap), col='blue')
lines(bcfw_5_10iter$iteration, log(bcfw_5_10iter$duality_gap), col='purple')
lines(bcfw_5_20iter$iteration, log(bcfw_5_20iter$duality_gap), col='red')
legend("topright", c('BCFW','5 planes / 2 iter', '5 planes / 5 iter', '5 planes / 10 iter', '5 planes / 20 iter'), lty=c(1,1,1,1,1), col=c('green','black','blue','purple','red'))
dev.off()
